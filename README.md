# JPlag - Detecting Software Plagiarism

[![Build Status](https://travis-ci.org/jplag/jplag.svg?branch=master)](https://travis-ci.org/jplag/)
[![Latest Release](https://img.shields.io/github/release/jplag/jplag.svg)](https://github.com/jplag/jplag/releases/latest)
[![License](https://img.shields.io/github/license/jplag/jplag.svg)](https://github.com/jplag/jplag/blob/master/LICENSE)

This fork focuses on the development of a new major release for JPlag, including the following changes:

* *Work in progress.*

**Note:** Due to the early stage of development, many details documented below might change before the official release of version 3.0.

## Download and Installation

### Building from sources 

1. Download or clone the code from this repository.
2. Run `mvn clean install` from the root of the repository to install all submodules. You will find the JARs in the respective `target` directories.
3. Inside the `jplag` directory run `mvn clean generate-sources package assembly:single`. 

You'll find the generated JAR with all dependencies in  `jplag/target`.

## Usage

### CLI

*Work in progress.*

### Java API

The new API makes it easy to integrate JPlag's plagiarism detection into external Java projects.

#### Example 

```java
JPlagOptions options = new JPlagOptions("/path/to/rootDir", LanguageOption.JAVA_1_9);

JPlag jplag = new JPlag(options);
JPlagResult result = jplag.run();

List<JPlagComparison> comparisons = result.getComparisons();

// Optional
result.export();
```

#### Classes

##### JPlag

##### JPlagOptions

##### JPlagResult

##### JPlagComparison

### Configuration Options

#### Required

##### Root directory

##### Language

**Note:** java19 refers to all java version from 9 on (currently 9 - 12).

#### Optional

*Work in progess.*

## Concepts

This section explains some fundamental concepts about JPlag that make it easier to understand and use.

### Root directory

This is the directory in which JPlag will scan for submissions.

### Submissions

Submissions contain the source code that JPlag will parse and compare. They have to be direct children of the root directory and can either be single files or directories.

#### Example: Single-file submissions

```
/path/to/root-directory
├── Submission-1.java
├── ...
└── Submission-n.java
```

#### Example: Directory submissions

JPlag will read submission directories recursively, so they can contain multiple (nested) source code files.

```
/path/to/root-directory
├── Submission-1
│   ├── Main.java
│   └── util
│       └── Utils.java
├── ...
└── Submission-n
    ├── Main.java
    └── util
        └── Utils.java
```

If you want JPlag to scan only one specific subdirectory of a submission for source code files (e.g. `src`), you can pass the `--subDir` option:

```
With option --subDir=src

/path/to/root-directory
├── Submission-1
│   ├── src                 
│   │   ├── Main.java       # Included
│   │   └── util            
│   │       └── Utils.java  # Included
│   ├── lib                 
│   │   └── Library.java    # Ignored
│   └── Other.java          # Ignored
└── ...
```

### Base Code

*Work in progress.*

## Contributing
We're happy to incorporate all improvements to JPlag into this code base. Feel free to fork the project and send pull requests.

### Adding new languages
Adding a new language frontend is quite simple. Have a look at one of the `jplag.frontend` projects. All you need is a parser for the language (e.g., for ANTLR or for JavaCC) and a few lines of code that sends the tokens (that are generated by the parser) to JPlag.
